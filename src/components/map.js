import React from 'react';
import echarts from 'echarts/lib/echarts';
import ReactEcharts from "echarts-for-react";
import {links, regions} from "../constants/regions";
import {provinces} from "../constants/provinces";

export class SongJinnMap extends React.Component {

    constructor(props) {
        super(props);
        echarts.registerMap("songJinn", {
                "type": "FeatureCollection", "features": [
                    {
                        "id": "2",
                        "properties":
                            {"name": "福建路"},
                        "type": "Feature",
                        "geometry": {
                            "coordinates":
                                [[[
                                    [117.19512883034535, 23.62268336127824],
                                    [117.0601993546839, 23.696928102539278],
                                    [116.98816049471378, 23.941907745269784], [116.92740685496427, 24.065583315117223], [116.9379508789403, 24.126922412761605], [116.99391046556865, 24.17511469366777], [116.93817974070936, 24.210868082176265], [116.90378063257599, 24.366134874293053], [116.89702175861899, 24.377797527527374], [116.84992237004431, 24.41588053571902], [116.8448720366155, 24.47569910564935], [116.75747225008108, 24.54925583357053], [116.80102198006323, 24.655166211745065], [116.78034481717916, 24.678694460907572], [116.60517896031945, 24.65032447848379], [116.53160316984615, 24.601620362327132], [116.48863281690907, 24.703255037638638], [116.43039194122315, 24.729934710770916], [116.35609898347236, 24.867360021710773], [116.27269223044208, 24.789113221713855], [116.2039118060829, 24.854696880923754], [116.11347962779584, 24.840599248592966], [116.04678591391819, 24.860244041502987], [116.0322143843998, 24.892638145559616], [115.87279719785117, 24.916610165111532], [115.87610423825464, 25.002763086929534], [115.9298173945502, 25.055990756615728], [115.89292334284343, 25.085690889726855], [115.85783239676262, 25.19998380947144], [116.00678371500679, 25.299573475088014], [116.00775021615769, 25.462226496024293], [116.0307970847798, 25.510387599213985], [116.06538470282104, 25.578324706166768], [116.04122542558294, 25.616365787049844], [116.13067413079698, 25.758020050065248], [116.17632521613177, 25.756851255220738], [116.13733653580717, 25.84053465922168], [116.19113899587869, 25.88818304000098], [116.27682521295483, 25.910887450087298], [116.33726504197026, 25.958502062742568], [116.36091651153365, 25.964765394515556], [116.40497158461511, 26.045948158561057], [116.49498359378777, 26.115222265107057], [116.4664489546556, 26.17052493438545], [116.39967160573772, 26.15990146079425], [116.38814134361719, 26.233138087512437], [116.44649330512469, 26.328689871507606], [116.51584191799698, 26.396913444172306], [116.58549504048854, 26.35701532881446], [116.63685777541018, 26.45994294992899], [116.59387839133773, 26.476725475581674], [116.53906542584262, 26.563075528712858], [116.56383392524833, 26.627498686407474], [116.50699702594143, 26.704632019369207], [116.55303952130524, 26.746696577726063], [116.54400732265368, 26.831575046911855], [116.65857301641434, 26.95752160232915], [116.8200242341575, 27.014131491852947], [116.94295721352101, 27.038174106084732], [117.04331520877057, 27.094021247155265], [117.03625684097258, 27.137428452888084], [117.16129029698841, 27.267905023560136], [117.09643255082229, 27.333572396598587], [117.12074112929486, 27.429653018053948], [117.07652213746674, 27.556292791211845], [117.0252428802833, 27.545906474027525], [116.99941725578006, 27.62252719063595], [117.10608859356081, 27.6759017858957], [117.17938743847418, 27.679204921890406], [117.28176776249516, 27.763126685232685], [117.27613840671837, 27.853886632762187], [117.34174360088139, 27.856679344461018], [117.5224298125269, 27.965506548629307], [117.6013918961915, 27.864333365136854], [117.7382907023578, 27.79537464338404], [117.78333434558752, 27.90089762719088], [117.83894265954429, 27.936793587973114], [118.01067205488218, 27.9833634224219], [118.07626277471583, 27.956218685298754], [118.11656024900094, 28.05618815018978], [118.20881058115981, 28.067421756339204], [118.24544102678351, 28.076141217822418], [118.34623143468714, 28.105686463124098], [118.35889184513697, 28.18100709817851], [118.30468126765994, 28.22382419621271], [118.426574998696, 28.29292290916727], [118.48806179274312, 28.272965639506374], [118.58093405088992, 28.287387177557182], [118.59284758857545, 28.256868567576817], [118.70469358069514, 28.3113849126155], [118.7972998733067, 28.23181403163335], [118.75663991614601, 28.19032319288218], [118.79588144761337, 28.129299416447246], [118.71207764466665, 28.062234977594787], [118.7296494612139, 27.958796371658057], [118.81420804953913, 27.90337394486998], [118.81529776470379, 27.865041987591145], [118.89740707886051, 27.64432337041153], [118.89916763464379, 27.538519454289826], [118.86247446265341, 27.526026045549077], [118.89755110800992, 27.463524667233074], [119.02863187510248, 27.49425564107887], [119.11910091729568, 27.473315901960326], [119.12598811429677, 27.430535444409113], [119.21650738138099, 27.407855139596744], [119.34470588355812, 27.481504496037896], [119.35067667685543, 27.52399870897265], [119.44924589385636, 27.50992945255432], [119.49038195727773, 27.63471138102164], [119.62778344345185, 27.669053107973006], [119.63242835950463, 27.578329091715023], [119.70169247352241, 27.516069255571953], [119.68269537686805, 27.430444047783375], [119.77664545599266, 27.30115371027591], [119.93574554223217, 27.311914303205835], [119.97781364651854, 27.36994825722161], [120.03580396568124, 27.34414604829613], [120.13484684997783, 27.418401592824985], [120.26298902797863, 27.431795705297375], [120.2743987700599, 27.391064914760154], [120.34816415082163, 27.39000164998792], [120.35744001408356, 27.340878747644823], [120.42672310398096, 27.257303326865895], [120.432527041398, 27.17028218881396], [120.3873304473632, 27.08238758848003], [120.27504867639664, 27.09876148593313], [120.26896570264248, 26.995946929290056], [120.23970740729082, 26.92731732896346], [120.11733613819653, 26.92834469274113], [120.10443258935139, 26.879982684564766], [120.04422862033653, 26.894601998479573], [120.03850403620451, 26.8189342340666], [120.13694687650188, 26.79333877816249], [120.09928074883378, 26.758176722151116], [120.1450246720067, 26.727424501598655], [120.09083663423101, 26.650226512182936], [120.00288517670658, 26.601157425591996], [119.95551244243545, 26.604212209820247], [119.8839875556994, 26.515228930314343], [119.83547354414839, 26.522050625624598], [119.85492667556697, 26.59250635093936], [119.95262525021393, 26.614114396834747], [119.98227396398659, 26.70141978553725], [120.08443698304077, 26.78426449385456], [119.9329094028812, 26.791885757460125], [119.90097462504231, 26.66634615564481], [119.80540067279172, 26.688435193076902], [119.79283545940628, 26.749060941610107], [119.85478738223006, 26.847036459627983], [119.77375561591779, 26.830919814824536], [119.75625056175696, 26.737490770892666], [119.69818200533241, 26.814376466311177], [119.67865843519087, 26.758292093966883], [119.72339693171831, 26.703210245935537], [119.61693571885702, 26.756726502580246], [119.62286069256832, 26.797293867475464], [119.54947451194035, 26.722839865239393], [119.59158535148276, 26.715928429897446], [119.60154959868035, 26.649841875954138], [119.54587467804288, 26.629077053722114], [119.60009491798452, 26.564446157426403], [119.6405972356335, 26.605133052851972], [119.7394488372034, 26.60977663718326], [119.79695471760056, 26.552255000647403], [119.78119430419333, 26.494447582447414], [119.83067053805111, 26.44455249411927], [119.76488229511344, 26.40288307279002], [119.64817121179165, 26.50351962036964], [119.61847042675069, 26.46420859540666], [119.56374632174489, 26.486641571782712], [119.58049025459073, 26.421158372455007], [119.64636041297065, 26.441256217725062], [119.65403535829861, 26.356218560663468], [119.72973947300471, 26.309105984897297], [119.75411531499114, 26.36805419493043], [119.83696429847944, 26.421110610501763], [119.84744516490687, 26.329152429909108], [119.62739838526906, 26.253124826475805], [119.6704720415586, 26.225894604167248], [119.5848824187121, 26.13156911515885], [119.65127507075998, 26.06623177094962], [119.57714589324219, 26.051843379957564], [119.7205412215763, 26.00052793864222], [119.68823980072784, 25.912861826341924], [119.63051601670281, 25.90882040880266], [119.58559903004878, 25.828050352500565], [119.63126853887465, 25.757116374712602], [119.58580356722636, 25.688484680189802], [119.54218270324567, 25.714638067518813], [119.46169466555212, 25.665165976596374], [119.48059904419719, 25.587978793011295], [119.57039364196682, 25.55822410622152], [119.61267160682702, 25.437100005203003], [119.66257607942069, 25.403139572316707], [119.59631747747476, 25.33905582469101], [119.58494227452515, 25.451239425408215], [119.54311239665051, 25.455649265897513], [119.51137724234523, 25.378305026938033], [119.49499895848325, 25.456495276901915], [119.44876674546266, 25.458440080444483], [119.46428964540779, 25.514336597502837], [119.35877855349037, 25.53402531448692], [119.33762700825827, 25.590247393304164], [119.22691894649034, 25.473769411795576], [119.16332533260739, 25.4563733641878], [119.13694704427911, 25.384848204433343], [119.23272250702026, 25.311031510644586], [119.2548743745012, 25.327870828864253], [119.37402692851352, 25.264978296525147], [119.28715458485732, 25.23612743869741], [119.27904382655814, 25.164886512750147], [119.17353944313996, 25.185928894762032], [119.12857526671534, 25.27189589506248], [119.0902267025557, 25.15709893864307], [119.04526046436952, 25.139843837630245], [119.09055421672775, 25.221024888737666], [118.9843997212021, 25.294900282618574], [118.90541615874346, 25.244478642905353], [118.97738910526655, 25.167550091896047], [118.96565487957372, 25.118867346636307], [118.87599298807629, 25.11380787001221], [118.8459131477777, 25.08207226786579], [118.97757676000585, 24.9900680189736], [119.01217906704802, 24.943701366908275], [118.91416123599436, 24.95758220706316], [118.90813347167375, 24.91454176115418], [118.98407814351604, 24.874583928492466], [118.82668669700624, 24.898761709799043], [118.78809272318419, 24.856829724561916], [118.70226164779152, 24.846940482935462], [118.679588039108, 24.886169448787964], [118.63367475438574, 24.849166074216896], [118.63448180817134, 24.77671790190834], [118.70535138965019, 24.795190675894165], [118.78194613153711, 24.769493801734797], [118.70824467215273, 24.673925670513594], [118.65266523444612, 24.685322027208493], [118.68227373785835, 24.61673137733258], [118.60642006453571, 24.52961451243732], [118.58763257545174, 24.573414054341118], [118.44344585840591, 24.631271006892653], [118.36368893686556, 24.579915845241224], [118.2986549255058, 24.59406838536954], [118.23386156477945, 24.53588120674392], [118.16480324518027, 24.6833139515332], [118.13144327515928, 24.60677764329919], [118.04977254500935, 24.61008868400075], [118.06096282680977, 24.575703784884936], [117.99271803849906, 24.5398189734028], [118.06896144834846, 24.508144279423792], [118.00790159600209, 24.46688506240589], [117.8777130716088, 24.44055168452495], [117.90456534703013, 24.394445623948293], [118.06687775612085, 24.4068662769819], [118.14070030969764, 24.264734417330583], [118.08657656704233, 24.254489422697297], [117.97029020239582, 24.172864333023345], [117.90250806272938, 24.093804918546976], [117.90738137698735, 24.03205633631776], [117.80666059420616, 24.00012444545835], [117.76652986756827, 23.919424112072225], [117.72067522224923, 23.939962777358414], [117.79718580965348, 24.008992340948744], [117.70964710575399, 24.04183609502517], [117.70194353057315, 23.956464698494088], [117.61928183091321, 23.861750728374638], [117.63669160990449, 23.79287457763532], [117.57670292298972, 23.724120064034736], [117.60559395387862, 23.804889270843848], [117.5661543610057, 23.915882035058686], [117.47575660981327, 23.90940840372188], [117.49873637262708, 23.869853346200536], [117.43466347665371, 23.760290285280238], [117.38252561200234, 23.79585731098361], [117.27006792459645, 23.740400028532026], [117.2761253708295, 23.635250602416225], [117.19512883034535, 23.62268336127824]]], [[[119.72880115709332, 25.635796672639504], [119.77139801812818, 25.643406979406258], [119.86128976471565, 25.561708990577294], [119.80175268885273, 25.496354487272665], [119.84318701053861, 25.474299967785186], [119.7006995193515, 25.435488515712034], [119.72460889644731, 25.49269463254417], [119.72880115709332, 25.635796672639504]]], [[[117.3820657018973, 23.683944612026032], [117.33773695750484, 23.687712767099416], [117.39244705432047, 23.78292887713278], [117.43020441201452, 23.740336306773436], [117.48239172372838, 23.763980315821808], [117.4770560042689, 23.658137273964115], [117.43437665918151, 23.666069993761976], [117.41721852601961, 23.600479431338762], [117.31438537850585, 23.575251462362054], [117.41473883374056, 23.677958404501304], [117.3820657018973, 23.683944612026032]]], [[[118.42626206451928, 24.407107749541755], [118.40104373228083, 24.433805905447144], [118.32990650738061, 24.38866553008143], [118.28554303049766, 24.470507632067797], [118.3699392950554, 24.46224831209696], [118.42484213734548, 24.52483776308683], [118.47145814806518, 24.438797204392106], [118.42626206451928, 24.407107749541755]]], [[[118.13465278095734, 24.42350353843975], [118.06561474948928, 24.458665593048625], [118.1051148750556, 24.552549221480213], [118.19399780783196, 24.5256359629143], [118.19521604515063, 24.484942196609705], [118.13465278095734, 24.42350353843975]]], [[[119.30005485100664, 25.412085487947643], [119.27723635860642, 25.4616676867585], [119.34420311558686, 25.578745493319342], [119.34243623237336, 25.433805241378185], [119.30005485100664, 25.412085487947643]]], [[[119.56401902119164, 25.2076748041437], [119.4474369184606, 25.202807741198672], [119.4731852098193, 25.258638220534625],
                                    [119.56401902119164, 25.2076748041437]
                                ]]],
                            "type": "MultiPolygon"
                        }
                    }
                ]
            }
        )
    }

    getOption() {
        return {
            backgroundColor: 'rgba(128, 120, 128, 0.4)',
            title: {
                text: '地图',
                left: 'center',
                textStyle: {
                    color: '#888'
                }
            },
            geo: {
                map: 'songJinn',
                show: true,
                roam: true,
                center: [118.380432, 28.251167],
                zoom: 6,
                scaleLimit: {
                    min: 4,
                    max: 60,
                },
                regions: [{
                    name: '福建',
                    itemStyle: {
                        borderWidth: 2,
                        areaColor: 'red',
                        color: 'blue'
                    }
                }],
                boundingCoords: [
                    // 定位左上角经纬度
                    [60, 60],
                    // 定位右下角经纬度
                    [180, 0]
                ],
            },
            series: [
                // {
                //     //coordinateSystem: 'cartesian2d',
                //     type: 'graph',
                //     layout: 'none',
                //     animation: false,
                //     draggable: false,
                //     roam: true,
                //     focusNodeAdjacency: true,
                //     categories: provinces.map((p)=>{
                //         return {
                //             name:p.name,
                //             symbol:'circle',
                //             symbolSize:5,
                //         }
                //     }),
                //     data: regions.map((r)=>{
                //         return {
                //             name:r.name,
                //             category:r.provinceID,
                //             symbolSize:35,
                //             fixed:true,
                //             symbol:'roundRect',
                //             x:r.x,
                //             y:r.y,
                //         }
                //     }),
                //     links:links(),
                // }

            ]
        }
    }

    render() {
        return <ReactEcharts
            echarts={echarts}
            option={this.getOption()}
            notMerge={true}
            lazyUpdate={false}
            theme={"cool"}
            style={{height: '650px', width: '1020px'}}
            opts={{renderer: 'canvas'}}/>
    }
}
